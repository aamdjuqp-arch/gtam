<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± ØµÙØ­Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
        .test-section h3 {
            margin-top: 0;
            color: #28a745;
        }
        .link-box {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            word-break: break-all;
        }
        .link-box a {
            color: #28a745;
            text-decoration: none;
            font-family: monospace;
        }
        .link-box a:hover {
            text-decoration: underline;
        }
        .button {
            display: inline-block;
            padding: 10px 20px;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px;
        }
        .button:hover {
            background: #218838;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .steps {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .steps ol {
            margin: 10px 0;
            padding-right: 20px;
        }
        .steps li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”„ Ø§Ø®ØªØ¨Ø§Ø± ØµÙØ­Ø§Øª Ø§Ù„Ø¯ÙØ¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Legacy)</h1>

        <div class="warning">
            <strong>âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø©:</strong>
            <p>Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… Ù…Ø³Ø§Ø± <code>/pay/{id}/...</code> Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† <code>/standalone-pay/{id}/...</code></p>
        </div>

        <div class="test-section">
            <h3>ğŸ‡¸ğŸ‡¦ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙØ¹ - Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (Ø£Ø±Ø§Ù…ÙƒØ³)</h3>
            <div class="link-box">
                <a href="/pay/test-id-123/recipient?service=aramex&country=SA" target="_blank">
                    /pay/test-id-123/recipient?service=aramex&country=SA
                </a>
            </div>
            <p><strong>Ø§Ù„Ø®Ø·ÙˆØ§Øª:</strong></p>
            <ol>
                <li>Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ø¹Ù„Ø§Ù‡</li>
                <li>ØªØ£ÙƒØ¯ Ù…Ù† Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ (ÙˆÙ„ÙŠØ³ ØµÙØ­Ø© Ø¨ÙŠØ¶Ø§Ø¡)</li>
                <li>Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</li>
                <li>Ø§Ù†Ù‚Ø± "Ø§Ù„ØªØ§Ù„ÙŠ"</li>
            </ol>
        </div>

        <div class="test-section">
            <h3>ğŸ‡¦ğŸ‡ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙØ¹ - Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª (DHL)</h3>
            <div class="link-box">
                <a href="/pay/test-id-456/recipient?service=dhl&country=AE" target="_blank">
                    /pay/test-id-456/recipient?service=dhl&country=AE
                </a>
            </div>
        </div>

        <div class="test-section">
            <h3>ğŸ‡°ğŸ‡¼ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¯ÙØ¹ - Ø§Ù„ÙƒÙˆÙŠØª (Ø³Ù…Ø³Ø§)</h3>
            <div class="link-box">
                <a href="/pay/test-id-789/recipient?service=smsa&country=KW" target="_blank">
                    /pay/test-id-789/recipient?service=smsa&country=KW
                </a>
            </div>
        </div>

        <div class="steps">
            <h3>ğŸ“ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</h3>
            <ol>
                <li><strong>ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø¸Ù‡ÙˆØ± ØµÙØ­Ø© Ø¨ÙŠØ¶Ø§Ø¡:</strong> ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¸Ù‡Ø± Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø©</li>
                <li><strong>ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</strong> ÙŠØ¬Ø¨ Ø£Ù† ØªØ¸Ù‡Ø± Ø®Ø¯Ù…Ø© Ø§Ù„Ø´Ø­Ù† ÙˆØ§Ù„Ù…Ø¨Ù„Øº</li>
                <li><strong>Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù†Ù…Ø§Ø°Ø¬:</strong> Ø§Ù…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§Ù†Ù‚Ø± "Ø§Ù„ØªØ§Ù„ÙŠ"</li>
                <li><strong>ØªØ­Ù‚Ù‚ Ù…Ù† console Ø§Ù„Ù…ØªØµÙØ­:</strong> Ø§Ø¶ØºØ· F12 ÙˆØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø£Ø®Ø·Ø§Ø¡</li>
            </ol>
        </div>

        <div class="warning">
            <strong>ğŸ”§ Ø¥Ø°Ø§ Ø¸Ù‡Ø±Øª ØµÙØ­Ø© Ø¨ÙŠØ¶Ø§Ø¡:</strong>
            <p>Ù‡Ø°Ø§ ÙŠØ¹Ù†ÙŠ Ø£Ù† Ù‡Ù†Ø§Ùƒ Ø®Ø·Ø£ ÙÙŠ JavaScript. ØªØ­Ù‚Ù‚ Ù…Ù† console Ø§Ù„Ù…ØªØµÙØ­ (F12) Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£.</p>
        </div>

        <div class="test-section">
            <h3>ğŸ” Ø±ÙˆØ§Ø¨Ø· Ù…ÙÙŠØ¯Ø© Ø£Ø®Ø±Ù‰:</h3>
            <p><a href="/test-links" class="button">Ø¥Ù†Ø´Ø§Ø¡ Ø±ÙˆØ§Ø¨Ø· Ø§Ø®ØªØ¨Ø§Ø± (Standalone)</a></p>
            <p><a href="/standalone-payment-demo" class="button">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ</a></p>
            <p><a href="/test-payment-links.html" class="button">Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ (Standalone)</a></p>
        </div>

        <div class="test-section">
            <h3>ğŸ“Š Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙ‚Ù†ÙŠØ©:</h3>
            <ul>
                <li><strong>Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…:</strong> <code>/pay/{id}/recipient</code></li>
                <li><strong>Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <code>/standalone-pay/{id}</code></li>
                <li><strong>Ø§Ù„Ø§Ø®ØªÙ„Ø§Ù:</strong> Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ø§ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Supabase</li>
                <li><strong>Ø§Ù„Ø­Ø§Ù„Ø©:</strong> ØªÙ… Ø¥ØµÙ„Ø§Ø­ loading states ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡</li>
            </ul>
        </div>

        <div class="warning">
            <strong>ğŸ’¡ Ø§Ù„ØªÙˆØµÙŠØ©:</strong>
            <p>Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© <code>/standalone-pay/{id}</code> Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© <code>/pay/{id}/...</code> Ù„Ø£Ù†Ù‡Ø§ Ø£ÙƒØ«Ø± Ø§Ø³ØªÙ‚Ø±Ø§Ø±Ø§Ù‹ ÙˆÙ„Ø§ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Supabase.</p>
        </div>
    </div>

    <script>
        // Log page load
        console.log('Legacy Payment Test Page Loaded');
        console.log('Time:', new Date().toISOString());
        console.log('User Agent:', navigator.userAgent);

        // Check for common issues
        console.log('=== System Check ===');
        console.log('localStorage:', typeof(Storage) !== "undefined");
        console.log('sessionStorage:', typeof(Storage) !== "undefined");
        console.log('currentPath:', window.location.pathname);
    </script>
</body>
</html>
